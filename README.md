# 📋 Salary Ticker 要件定義書

## 1. アプリ概要
ターミナルから起動し、macOSのステータスバーに常駐する報酬可視化ツール。
「今いくら稼いだか」を30分ごとに更新表示し、残業（確変）突入時の演出でモチベーションを維持する。

## 2. 起動・入力フロー (CLI)
ユーザーはターミナルでスクリプトを実行し、対話形式で設定を行う。

1.  **コマンド実行:** `./salary` (または `python salary.py`)
2.  **Input 1 (開始時間):** `開始時間 (HH:MM) >`
    * 例: `09:30`
    * 補足: 現在時刻より未来の時間が入力された場合は「前日の開始」とみなす。
3.  **Input 2 (時給):** `時給 (円) >`
    * 例: `3000`
4.  **起動:** 設定完了後、アプリがステータスバーに常駐開始。
    * 終了操作: ターミナル上で `Ctrl + C` を押して強制終了（メニュー内のQuitは廃止）。

## 3. ステータスバー表示仕様 (常時表示)

* **更新頻度:** **30分ごと**（および確変突入の瞬間）
* **表示フォーマット:** `[アイコン] ¥[金額]`

| モード | 条件 | アイコン | 表示例 |
| :--- | :--- | :---: | :--- |
| **通常モード** | 経過時間 < 9時間 | 💴 (お札) | `💴 ¥12,500` |
| **確変モード** | 経過時間 ≧ 9時間 | 🔥 (炎) | `🔥 ¥28,125` |

## 4. ドロップダウンメニュー仕様 (詳細)
ステータスバーのアイコンをクリックした際の表示項目。
※「API Calls」「Quit」などの不要項目は削除。

1.  **⏱ Session Info** (ヘッダー)
    * `Started HH:MM / Elapsed Xh Ym` (開始時間と経過時間)
2.  **(セパレータ)**
3.  **💰 Earnings** (ヘッダー)
    * `Current Earned: ¥X,XXX` (現在の稼ぎ)
4.  **🔥 Burn Rate** (ヘッダー)
    * 通常時: `😌 NORMAL (¥X,XXX/h)` (定時時給)
    * 確変時: `🔥 BURNING (¥X,XXX/h)` (1.25倍時給)
5.  **(セパレータ)**
6.  **📊 Stats** (ヘッダー)
    * `Actual Work: X.XXh` (休憩1hを除いた実労働時間)
    * `Projected Base: ¥X,XXX` (定時までの予想日給 / 確変時は "Rising..." 表記)

## 5. ロジック・計算式

### 基本前提
* **休憩時間:** 一律 **1時間** (`-1.0h`) を自動控除。
* **確変ライン:** 拘束 **9時間** (実働8時間 + 休憩1時間) を超えた瞬間。

### 計算式
1.  **実労働時間 (h)** = `(現在時刻 - 開始時刻)の時間換算` - `1.0`
    * ※マイナスの場合は0とする。
2.  **給与計算**:
    * **通常時 (9時間以内):**
        `実労働時間 × 時給`
    * **確変時 (9時間超):**
        `(8時間 × 時給) + ((実労働時間 - 8時間) × 時給 × 1.25)`
